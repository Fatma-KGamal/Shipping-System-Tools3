<app-admin-navbar></app-admin-navbar>
<h2>Order Details</h2>

<div *ngIf="orderDetails; else errorTemplate">
  <p><strong>Order ID:</strong> {{ orderDetails.id }}</p>
  <p><strong>Pickup Location:</strong> {{ orderDetails.pickup_location }}</p>
  <p><strong>Dropoff Location:</strong> {{ orderDetails.dropoff_location }}</p>
  <p><strong>Package Details:</strong> {{ orderDetails.package_details }}</p>
  <p><strong>Status:</strong> {{ orderDetails.status }}</p>
  <p><strong>Created At:</strong> {{ orderDetails.created_at }}</p>
  <p><strong>Updated At:</strong> {{ orderDetails.updated_at }}</p>
  <p><strong>Customer ID:</strong> {{ orderDetails.user_id }}</p>
  <p><strong>Courier ID:</strong> {{ orderDetails.courier_id }}</p>
</div>

<label for="courierSelect">Assign Courier:</label>
<select id="courierSelect" [(ngModel)]="selectedCourierId">
  <option *ngFor="let courier of couriers" [value]="courier.id">{{ courier.username }}</option>
</select>
<button (click)="assignOrder()">Assign Courier</button>

<!-- Dropdown for updating status -->
<label for="statusSelect">Update Order Status:</label>
<select id="statusSelect" [(ngModel)]="selectedStatus">
  <option *ngFor="let status of statuses" [value]="status">{{ status }}</option>
</select>
<button (click)="updateOrderStatus()">Update Order Status</button>


<!-- Error message template if order details couldn't be loaded -->
<ng-template #errorTemplate>
  <p style="color: red;">{{ errorMessage || 'Unable to load order details.' }}</p>
</ng-template>

